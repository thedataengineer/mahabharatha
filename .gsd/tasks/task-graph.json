{
  "$schema": "https://mahabharatha.dev/schemas/task-graph-v1.json",
  "feature": "mahabharatha-implementation",
  "version": "1.0",
  "generated": "2026-01-25T20:00:00Z",
  "total_tasks": 42,
  "estimated_duration_minutes": 1260,
  "max_parallelization": 8,
  "critical_path": ["MAHABHARATHA-L1-001", "MAHABHARATHA-L1-003", "MAHABHARATHA-L2-001", "MAHABHARATHA-L2-004", "MAHABHARATHA-L3-001", "MAHABHARATHA-L3-004", "MAHABHARATHA-L4-004", "MAHABHARATHA-L5-003"],
  "critical_path_minutes": 330,

  "tasks": [
    {
      "id": "MAHABHARATHA-L1-001",
      "title": "Python Package Structure",
      "description": "Create Python package skeleton with proper module layout",
      "level": 1,
      "dependencies": [],
      "files": {
        "create": ["mahabharatha/__init__.py", "mahabharatha/py.typed", "pyproject.toml", "requirements.txt"],
        "modify": [],
        "read": [".mahabharatha/config.yaml"]
      },
      "verification": {
        "command": "python -c \"import mahabharatha; print(mahabharatha.__version__)\"",
        "timeout_seconds": 30
      },
      "estimate_minutes": 15,
      "status": "todo",
      "critical_path": true
    },
    {
      "id": "MAHABHARATHA-L1-002",
      "title": "Type Definitions",
      "description": "Define TypedDict and dataclass types for all domain objects",
      "level": 1,
      "dependencies": ["MAHABHARATHA-L1-001"],
      "files": {
        "create": ["mahabharatha/types.py"],
        "modify": [],
        "read": [".gsd/specs/phase2/architecture_synthesis.md"]
      },
      "verification": {
        "command": "python -c \"from mahabharatha.types import TaskGraph, WorkerState, LevelStatus\"",
        "timeout_seconds": 30
      },
      "estimate_minutes": 25,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L1-003",
      "title": "Configuration Schema",
      "description": "Config loader with Pydantic validation, defaults from config.yaml",
      "level": 1,
      "dependencies": ["MAHABHARATHA-L1-002"],
      "files": {
        "create": ["mahabharatha/config.py"],
        "modify": [],
        "read": [".mahabharatha/config.yaml", "mahabharatha/types.py"]
      },
      "verification": {
        "command": "python -c \"from mahabharatha.config import ZergConfig; c = ZergConfig.load(); print(c.workers.max_concurrent)\"",
        "timeout_seconds": 30
      },
      "estimate_minutes": 20,
      "status": "todo",
      "critical_path": true
    },
    {
      "id": "MAHABHARATHA-L1-004",
      "title": "Constants and Enums",
      "description": "Define level names, task statuses, gate results, error codes",
      "level": 1,
      "dependencies": ["MAHABHARATHA-L1-001"],
      "files": {
        "create": ["mahabharatha/constants.py"],
        "modify": [],
        "read": []
      },
      "verification": {
        "command": "python -c \"from mahabharatha.constants import Level, TaskStatus, GateResult\"",
        "timeout_seconds": 30
      },
      "estimate_minutes": 10,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L1-005",
      "title": "Logging Setup",
      "description": "Structured JSON logging with worker ID context, file rotation",
      "level": 1,
      "dependencies": ["MAHABHARATHA-L1-003"],
      "files": {
        "create": ["mahabharatha/logging.py"],
        "modify": [],
        "read": ["mahabharatha/config.py"]
      },
      "verification": {
        "command": "python -c \"from mahabharatha.logging import get_logger; log = get_logger('test'); log.info('works')\"",
        "timeout_seconds": 30
      },
      "estimate_minutes": 15,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L1-006",
      "title": "Exception Hierarchy",
      "description": "Define ZergError base and specific exceptions for each failure mode",
      "level": 1,
      "dependencies": ["MAHABHARATHA-L1-001"],
      "files": {
        "create": ["mahabharatha/exceptions.py"],
        "modify": [],
        "read": []
      },
      "verification": {
        "command": "python -c \"from mahabharatha.exceptions import ZergError, TaskVerificationFailed, MergeConflict\"",
        "timeout_seconds": 30
      },
      "estimate_minutes": 10,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L1-007",
      "title": "Task Graph Schema Validator",
      "description": "JSON Schema for task-graph.json with validation functions",
      "level": 1,
      "dependencies": ["MAHABHARATHA-L1-002"],
      "files": {
        "create": ["mahabharatha/schemas/task_graph.json", "mahabharatha/schemas/__init__.py", "mahabharatha/validation.py"],
        "modify": [],
        "read": [".gsd/specs/phase2/architecture_synthesis.md"]
      },
      "verification": {
        "command": "python -c \"from mahabharatha.validation import validate_task_graph\"",
        "timeout_seconds": 30
      },
      "estimate_minutes": 25,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L1-008",
      "title": "CLI Entry Point Skeleton",
      "description": "Click-based CLI with subcommand structure, no implementation",
      "level": 1,
      "dependencies": ["MAHABHARATHA-L1-001", "MAHABHARATHA-L1-005"],
      "files": {
        "create": ["mahabharatha/cli.py"],
        "modify": ["pyproject.toml"],
        "read": []
      },
      "verification": {
        "command": "python -m mahabharatha --help",
        "timeout_seconds": 30
      },
      "estimate_minutes": 20,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L2-001",
      "title": "Worktree Manager",
      "description": "Git worktree create/delete/list, branch management, path resolution",
      "level": 2,
      "dependencies": ["MAHABHARATHA-L1-003", "MAHABHARATHA-L1-006"],
      "files": {
        "create": ["mahabharatha/worktree.py"],
        "modify": [],
        "read": ["mahabharatha/config.py", "mahabharatha/types.py", "mahabharatha/exceptions.py"]
      },
      "verification": {
        "command": "python -c \"from mahabharatha.worktree import WorktreeManager; wm = WorktreeManager('.'); print(wm.list_worktrees())\"",
        "timeout_seconds": 60
      },
      "estimate_minutes": 45,
      "status": "todo",
      "critical_path": true
    },
    {
      "id": "MAHABHARATHA-L2-002",
      "title": "Port Allocator",
      "description": "Random port selection in ephemeral range, collision detection, tracking",
      "level": 2,
      "dependencies": ["MAHABHARATHA-L1-003"],
      "files": {
        "create": ["mahabharatha/ports.py"],
        "modify": [],
        "read": ["mahabharatha/config.py", "mahabharatha/types.py"]
      },
      "verification": {
        "command": "python -c \"from mahabharatha.ports import PortAllocator; pa = PortAllocator(); print(pa.allocate(5))\"",
        "timeout_seconds": 30
      },
      "estimate_minutes": 20,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L2-003",
      "title": "Task Parser",
      "description": "Load task-graph.json, parse into domain objects, validate dependencies",
      "level": 2,
      "dependencies": ["MAHABHARATHA-L1-002", "MAHABHARATHA-L1-007", "MAHABHARATHA-L1-006"],
      "files": {
        "create": ["mahabharatha/parser.py"],
        "modify": [],
        "read": ["mahabharatha/types.py", "mahabharatha/validation.py", "mahabharatha/exceptions.py"]
      },
      "verification": {
        "command": "python -c \"from mahabharatha.parser import TaskParser\"",
        "timeout_seconds": 30
      },
      "estimate_minutes": 30,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L2-004",
      "title": "Level Controller",
      "description": "Track level completion, block N+1 until N done, emit level events",
      "level": 2,
      "dependencies": ["MAHABHARATHA-L1-002", "MAHABHARATHA-L1-004", "MAHABHARATHA-L1-005"],
      "files": {
        "create": ["mahabharatha/levels.py"],
        "modify": [],
        "read": ["mahabharatha/types.py", "mahabharatha/constants.py", "mahabharatha/logging.py"]
      },
      "verification": {
        "command": "python -c \"from mahabharatha.levels import LevelController; lc = LevelController()\"",
        "timeout_seconds": 30
      },
      "estimate_minutes": 35,
      "status": "todo",
      "critical_path": true
    },
    {
      "id": "MAHABHARATHA-L2-005",
      "title": "State Manager",
      "description": "Adapter for Claude Native Tasks API, state persistence, polling",
      "level": 2,
      "dependencies": ["MAHABHARATHA-L1-002", "MAHABHARATHA-L1-003", "MAHABHARATHA-L1-005"],
      "files": {
        "create": ["mahabharatha/state.py"],
        "modify": [],
        "read": ["mahabharatha/types.py", "mahabharatha/config.py", "mahabharatha/logging.py"]
      },
      "verification": {
        "command": "python -c \"from mahabharatha.state import StateManager\"",
        "timeout_seconds": 30
      },
      "estimate_minutes": 40,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L2-006",
      "title": "Quality Gate Runner",
      "description": "Execute gate commands, capture output, determine pass/fail, timeout handling",
      "level": 2,
      "dependencies": ["MAHABHARATHA-L1-003", "MAHABHARATHA-L1-005", "MAHABHARATHA-L1-006"],
      "files": {
        "create": ["mahabharatha/gates.py"],
        "modify": [],
        "read": ["mahabharatha/config.py", "mahabharatha/types.py", "mahabharatha/logging.py", "mahabharatha/exceptions.py"]
      },
      "verification": {
        "command": "python -c \"from mahabharatha.gates import GateRunner; gr = GateRunner()\"",
        "timeout_seconds": 30
      },
      "estimate_minutes": 30,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L2-007",
      "title": "Verification Executor",
      "description": "Run task verification commands, handle timeouts, capture results",
      "level": 2,
      "dependencies": ["MAHABHARATHA-L1-002", "MAHABHARATHA-L1-005", "MAHABHARATHA-L1-006"],
      "files": {
        "create": ["mahabharatha/verify.py"],
        "modify": [],
        "read": ["mahabharatha/types.py", "mahabharatha/logging.py", "mahabharatha/exceptions.py"]
      },
      "verification": {
        "command": "python -c \"from mahabharatha.verify import VerificationExecutor\"",
        "timeout_seconds": 30
      },
      "estimate_minutes": 25,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L2-008",
      "title": "Worker Assignment Calculator",
      "description": "Distribute tasks to workers, balance by level, respect file ownership",
      "level": 2,
      "dependencies": ["MAHABHARATHA-L1-002", "MAHABHARATHA-L2-003"],
      "files": {
        "create": ["mahabharatha/assign.py"],
        "modify": [],
        "read": ["mahabharatha/types.py", "mahabharatha/parser.py"]
      },
      "verification": {
        "command": "python -c \"from mahabharatha.assign import WorkerAssignment\"",
        "timeout_seconds": 30
      },
      "estimate_minutes": 30,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L2-009",
      "title": "Container Manager",
      "description": "Docker/devcontainer lifecycle: build, start, stop, health check",
      "level": 2,
      "dependencies": ["MAHABHARATHA-L1-003", "MAHABHARATHA-L2-002", "MAHABHARATHA-L1-005"],
      "files": {
        "create": ["mahabharatha/containers.py"],
        "modify": [],
        "read": ["mahabharatha/config.py", "mahabharatha/types.py", "mahabharatha/ports.py", "mahabharatha/logging.py"]
      },
      "verification": {
        "command": "python -c \"from mahabharatha.containers import ContainerManager\"",
        "timeout_seconds": 30
      },
      "estimate_minutes": 45,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L2-010",
      "title": "Git Operations",
      "description": "Branch create/delete, merge, rebase, conflict detection, staging branch",
      "level": 2,
      "dependencies": ["MAHABHARATHA-L1-002", "MAHABHARATHA-L1-005", "MAHABHARATHA-L1-006"],
      "files": {
        "create": ["mahabharatha/git_ops.py"],
        "modify": [],
        "read": ["mahabharatha/types.py", "mahabharatha/logging.py", "mahabharatha/exceptions.py"]
      },
      "verification": {
        "command": "python -c \"from mahabharatha.git_ops import GitOps; go = GitOps('.')\"",
        "timeout_seconds": 30
      },
      "estimate_minutes": 40,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L3-001",
      "title": "Orchestrator Core",
      "description": "Main event loop: worker lifecycle, level transitions, status polling",
      "level": 3,
      "dependencies": ["MAHABHARATHA-L2-004", "MAHABHARATHA-L2-005", "MAHABHARATHA-L2-009"],
      "files": {
        "create": ["mahabharatha/orchestrator.py"],
        "modify": [],
        "read": ["mahabharatha/config.py", "mahabharatha/types.py", "mahabharatha/levels.py", "mahabharatha/state.py", "mahabharatha/containers.py", "mahabharatha/logging.py"]
      },
      "verification": {
        "command": "python -c \"from mahabharatha.orchestrator import Orchestrator\"",
        "timeout_seconds": 30
      },
      "estimate_minutes": 60,
      "status": "todo",
      "critical_path": true
    },
    {
      "id": "MAHABHARATHA-L3-002",
      "title": "Merge Gate Integration",
      "description": "Combine git ops + quality gates + level controller for merge workflow",
      "level": 3,
      "dependencies": ["MAHABHARATHA-L2-006", "MAHABHARATHA-L2-010", "MAHABHARATHA-L2-004"],
      "files": {
        "create": ["mahabharatha/merge.py"],
        "modify": [],
        "read": ["mahabharatha/git_ops.py", "mahabharatha/gates.py", "mahabharatha/levels.py", "mahabharatha/logging.py"]
      },
      "verification": {
        "command": "python -c \"from mahabharatha.merge import MergeCoordinator\"",
        "timeout_seconds": 30
      },
      "estimate_minutes": 45,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L3-003",
      "title": "Worker Protocol Handler",
      "description": "Worker startup sequence, task claiming, completion reporting, exit handling",
      "level": 3,
      "dependencies": ["MAHABHARATHA-L2-005", "MAHABHARATHA-L2-007", "MAHABHARATHA-L2-001"],
      "files": {
        "create": ["mahabharatha/worker_protocol.py"],
        "modify": [],
        "read": ["mahabharatha/state.py", "mahabharatha/verify.py", "mahabharatha/worktree.py", "mahabharatha/logging.py"]
      },
      "verification": {
        "command": "python -c \"from mahabharatha.worker_protocol import WorkerProtocol\"",
        "timeout_seconds": 30
      },
      "estimate_minutes": 50,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L3-004",
      "title": "Kurukshetra Command Implementation",
      "description": "Full /mahabharatha kurukshetra flow: parse graph, assign workers, launch containers, monitor",
      "level": 3,
      "dependencies": ["MAHABHARATHA-L3-001", "MAHABHARATHA-L2-003", "MAHABHARATHA-L2-008", "MAHABHARATHA-L2-001"],
      "files": {
        "create": ["mahabharatha/commands/kurukshetra.py", "mahabharatha/commands/__init__.py"],
        "modify": ["mahabharatha/cli.py"],
        "read": ["mahabharatha/orchestrator.py", "mahabharatha/parser.py", "mahabharatha/assign.py", "mahabharatha/worktree.py"]
      },
      "verification": {
        "command": "python -m mahabharatha kurukshetra --help",
        "timeout_seconds": 30
      },
      "estimate_minutes": 45,
      "status": "todo",
      "critical_path": true
    },
    {
      "id": "MAHABHARATHA-L3-005",
      "title": "Status Command Implementation",
      "description": "/mahabharatha status output: progress bars, worker table, event log",
      "level": 3,
      "dependencies": ["MAHABHARATHA-L3-001", "MAHABHARATHA-L2-005"],
      "files": {
        "create": ["mahabharatha/commands/status.py"],
        "modify": ["mahabharatha/cli.py"],
        "read": ["mahabharatha/state.py", "mahabharatha/orchestrator.py", "mahabharatha/types.py"]
      },
      "verification": {
        "command": "python -m mahabharatha status --help",
        "timeout_seconds": 30
      },
      "estimate_minutes": 30,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L3-006",
      "title": "Stop Command Implementation",
      "description": "/mahabharatha stop flow: graceful shutdown, checkpoint, container cleanup",
      "level": 3,
      "dependencies": ["MAHABHARATHA-L3-001", "MAHABHARATHA-L2-009"],
      "files": {
        "create": ["mahabharatha/commands/stop.py"],
        "modify": ["mahabharatha/cli.py"],
        "read": ["mahabharatha/orchestrator.py", "mahabharatha/containers.py", "mahabharatha/state.py"]
      },
      "verification": {
        "command": "python -m mahabharatha stop --help",
        "timeout_seconds": 30
      },
      "estimate_minutes": 25,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L3-007",
      "title": "Retry Command Implementation",
      "description": "/mahabharatha retry flow: reset task state, re-queue for execution",
      "level": 3,
      "dependencies": ["MAHABHARATHA-L3-001", "MAHABHARATHA-L2-005"],
      "files": {
        "create": ["mahabharatha/commands/retry.py"],
        "modify": ["mahabharatha/cli.py"],
        "read": ["mahabharatha/state.py", "mahabharatha/orchestrator.py"]
      },
      "verification": {
        "command": "python -m mahabharatha retry --help",
        "timeout_seconds": 30
      },
      "estimate_minutes": 20,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L3-008",
      "title": "Logs Command Implementation",
      "description": "/mahabharatha logs: stream worker logs, filtering, tail/follow modes",
      "level": 3,
      "dependencies": ["MAHABHARATHA-L1-005", "MAHABHARATHA-L2-009"],
      "files": {
        "create": ["mahabharatha/commands/logs.py"],
        "modify": ["mahabharatha/cli.py"],
        "read": ["mahabharatha/logging.py", "mahabharatha/containers.py"]
      },
      "verification": {
        "command": "python -m mahabharatha logs --help",
        "timeout_seconds": 30
      },
      "estimate_minutes": 25,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L3-009",
      "title": "Cleanup Command Implementation",
      "description": "/mahabharatha cleanup: remove worktrees, branches, logs, containers",
      "level": 3,
      "dependencies": ["MAHABHARATHA-L2-001", "MAHABHARATHA-L2-010", "MAHABHARATHA-L2-009"],
      "files": {
        "create": ["mahabharatha/commands/cleanup.py"],
        "modify": ["mahabharatha/cli.py"],
        "read": ["mahabharatha/worktree.py", "mahabharatha/git_ops.py", "mahabharatha/containers.py"]
      },
      "verification": {
        "command": "python -m mahabharatha cleanup --help",
        "timeout_seconds": 30
      },
      "estimate_minutes": 20,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L4-001",
      "title": "Init Command Refinement",
      "description": "Update /mahabharatha init prompt with detection logic, generate config",
      "level": 4,
      "dependencies": ["MAHABHARATHA-L1-003", "MAHABHARATHA-L1-008"],
      "files": {
        "create": ["mahabharatha/commands/init.py"],
        "modify": [".claude/commands/mahabharatha:init.md", "mahabharatha/cli.py"],
        "read": ["mahabharatha/config.py"]
      },
      "verification": {
        "command": "python -m mahabharatha init --help",
        "timeout_seconds": 30
      },
      "estimate_minutes": 30,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L4-002",
      "title": "Plan Command Refinement",
      "description": "Update /mahabharatha plan prompt with requirements template, approval flow",
      "level": 4,
      "dependencies": ["MAHABHARATHA-L3-001"],
      "files": {
        "create": [],
        "modify": [".claude/commands/mahabharatha:plan.md"],
        "read": [".gsd/specs/phase2/architecture_synthesis.md"]
      },
      "verification": {
        "command": "grep -q 'APPROVED' .claude/commands/mahabharatha:plan.md",
        "timeout_seconds": 10
      },
      "estimate_minutes": 20,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L4-003",
      "title": "Design Command Refinement",
      "description": "Update /mahabharatha design prompt with task graph generation, validation",
      "level": 4,
      "dependencies": ["MAHABHARATHA-L1-007"],
      "files": {
        "create": [],
        "modify": [".claude/commands/mahabharatha:design.md"],
        "read": ["mahabharatha/validation.py", ".gsd/specs/phase2/architecture_synthesis.md"]
      },
      "verification": {
        "command": "grep -q 'task-graph.json' .claude/commands/mahabharatha:design.md",
        "timeout_seconds": 10
      },
      "estimate_minutes": 25,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L4-004",
      "title": "Kurukshetra Command Prompt Update",
      "description": "Sync /mahabharatha kurukshetra prompt with Python implementation, add examples",
      "level": 4,
      "dependencies": ["MAHABHARATHA-L3-004"],
      "files": {
        "create": [],
        "modify": [".claude/commands/mahabharatha:kurukshetra.md"],
        "read": ["mahabharatha/commands/kurukshetra.py"]
      },
      "verification": {
        "command": "grep -q 'worker-assignments.json' .claude/commands/mahabharatha:kurukshetra.md",
        "timeout_seconds": 10
      },
      "estimate_minutes": 20,
      "status": "todo",
      "critical_path": true
    },
    {
      "id": "MAHABHARATHA-L4-005",
      "title": "Status Command Prompt Update",
      "description": "Sync /mahabharatha status prompt with Python implementation, add output examples",
      "level": 4,
      "dependencies": ["MAHABHARATHA-L3-005"],
      "files": {
        "create": [],
        "modify": [".claude/commands/mahabharatha:status.md"],
        "read": ["mahabharatha/commands/status.py"]
      },
      "verification": {
        "command": "grep -q 'Progress:' .claude/commands/mahabharatha:status.md",
        "timeout_seconds": 10
      },
      "estimate_minutes": 15,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L4-006",
      "title": "Worker Command Refinement",
      "description": "Update /mahabharatha worker prompt with protocol, context handling, exit codes",
      "level": 4,
      "dependencies": ["MAHABHARATHA-L3-003"],
      "files": {
        "create": [],
        "modify": [".claude/commands/mahabharatha:worker.md"],
        "read": ["mahabharatha/worker_protocol.py"]
      },
      "verification": {
        "command": "grep -q '70%' .claude/commands/mahabharatha:worker.md",
        "timeout_seconds": 10
      },
      "estimate_minutes": 25,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L4-007",
      "title": "Merge Command Creation",
      "description": "Create /mahabharatha merge prompt for manual gate triggering",
      "level": 4,
      "dependencies": ["MAHABHARATHA-L3-002"],
      "files": {
        "create": [".claude/commands/mahabharatha:merge.md", "mahabharatha/commands/merge_cmd.py"],
        "modify": ["mahabharatha/cli.py"],
        "read": ["mahabharatha/merge.py"]
      },
      "verification": {
        "command": "python -m mahabharatha merge --help",
        "timeout_seconds": 30
      },
      "estimate_minutes": 20,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L4-008",
      "title": "Logs Command Prompt Creation",
      "description": "Create /mahabharatha logs prompt with filtering, streaming examples",
      "level": 4,
      "dependencies": ["MAHABHARATHA-L3-008"],
      "files": {
        "create": [".claude/commands/mahabharatha:logs.md"],
        "modify": [],
        "read": ["mahabharatha/commands/logs.py"]
      },
      "verification": {
        "command": "test -f .claude/commands/mahabharatha:logs.md",
        "timeout_seconds": 10
      },
      "estimate_minutes": 15,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L4-009",
      "title": "Stop Command Prompt Creation",
      "description": "Create /mahabharatha stop prompt with graceful/force options",
      "level": 4,
      "dependencies": ["MAHABHARATHA-L3-006"],
      "files": {
        "create": [".claude/commands/mahabharatha:stop.md"],
        "modify": [],
        "read": ["mahabharatha/commands/stop.py"]
      },
      "verification": {
        "command": "test -f .claude/commands/mahabharatha:stop.md",
        "timeout_seconds": 10
      },
      "estimate_minutes": 15,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L4-010",
      "title": "Cleanup Command Prompt Creation",
      "description": "Create /mahabharatha cleanup prompt with options documentation",
      "level": 4,
      "dependencies": ["MAHABHARATHA-L3-009"],
      "files": {
        "create": [".claude/commands/mahabharatha:cleanup.md"],
        "modify": [],
        "read": ["mahabharatha/commands/cleanup.py"]
      },
      "verification": {
        "command": "test -f .claude/commands/mahabharatha:cleanup.md",
        "timeout_seconds": 10
      },
      "estimate_minutes": 15,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L5-001",
      "title": "Unit Tests Foundation",
      "description": "Pytest setup, fixtures, test utilities for core components",
      "level": 5,
      "dependencies": ["MAHABHARATHA-L1-002", "MAHABHARATHA-L1-003"],
      "files": {
        "create": ["tests/__init__.py", "tests/conftest.py", "tests/test_config.py", "tests/test_types.py"],
        "modify": ["pyproject.toml"],
        "read": ["mahabharatha/config.py", "mahabharatha/types.py"]
      },
      "verification": {
        "command": "pytest tests/test_config.py -v",
        "timeout_seconds": 60
      },
      "estimate_minutes": 40,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L5-002",
      "title": "Core Component Tests",
      "description": "Tests for worktree, levels, gates, verification, git ops",
      "level": 5,
      "dependencies": ["MAHABHARATHA-L2-001", "MAHABHARATHA-L2-004", "MAHABHARATHA-L2-006", "MAHABHARATHA-L2-010"],
      "files": {
        "create": ["tests/test_worktree.py", "tests/test_levels.py", "tests/test_gates.py", "tests/test_git_ops.py"],
        "modify": [],
        "read": ["mahabharatha/worktree.py", "mahabharatha/levels.py", "mahabharatha/gates.py", "mahabharatha/git_ops.py"]
      },
      "verification": {
        "command": "pytest tests/test_worktree.py tests/test_levels.py -v",
        "timeout_seconds": 120
      },
      "estimate_minutes": 60,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L5-003",
      "title": "Integration Tests",
      "description": "End-to-end tests: kurukshetra with mock containers, level progression, merge flow",
      "level": 5,
      "dependencies": ["MAHABHARATHA-L3-001", "MAHABHARATHA-L3-002"],
      "files": {
        "create": ["tests/integration/__init__.py", "tests/integration/test_rush_flow.py", "tests/integration/test_merge_flow.py"],
        "modify": [],
        "read": ["mahabharatha/orchestrator.py", "mahabharatha/merge.py"]
      },
      "verification": {
        "command": "pytest tests/integration/ -v",
        "timeout_seconds": 300
      },
      "estimate_minutes": 90,
      "status": "todo",
      "critical_path": true
    },
    {
      "id": "MAHABHARATHA-L5-004",
      "title": "Security Hooks",
      "description": "Pre-commit hook for non-ASCII detection, commit message validation",
      "level": 5,
      "dependencies": ["MAHABHARATHA-L3-001"],
      "files": {
        "create": [".mahabharatha/hooks/pre-commit", "mahabharatha/security.py"],
        "modify": [],
        "read": [".gsd/specs/phase2/architecture_synthesis.md"]
      },
      "verification": {
        "command": "bash .mahabharatha/hooks/pre-commit",
        "timeout_seconds": 30
      },
      "estimate_minutes": 30,
      "status": "todo",
      "critical_path": false
    },
    {
      "id": "MAHABHARATHA-L5-005",
      "title": "Documentation Update",
      "description": "Update README, ARCHITECTURE.md with final implementation details",
      "level": 5,
      "dependencies": ["MAHABHARATHA-L4-004", "MAHABHARATHA-L4-005"],
      "files": {
        "create": [],
        "modify": ["README.md", "ARCHITECTURE.md"],
        "read": ["mahabharatha/*.py", ".claude/commands/*.md"]
      },
      "verification": {
        "command": "grep -q 'pip install' README.md",
        "timeout_seconds": 10
      },
      "estimate_minutes": 45,
      "status": "todo",
      "critical_path": false
    }
  ],

  "levels": {
    "1": {
      "name": "foundation",
      "tasks": ["MAHABHARATHA-L1-001", "MAHABHARATHA-L1-002", "MAHABHARATHA-L1-003", "MAHABHARATHA-L1-004", "MAHABHARATHA-L1-005", "MAHABHARATHA-L1-006", "MAHABHARATHA-L1-007", "MAHABHARATHA-L1-008"],
      "parallel": true,
      "estimated_minutes": 140
    },
    "2": {
      "name": "core",
      "tasks": ["MAHABHARATHA-L2-001", "MAHABHARATHA-L2-002", "MAHABHARATHA-L2-003", "MAHABHARATHA-L2-004", "MAHABHARATHA-L2-005", "MAHABHARATHA-L2-006", "MAHABHARATHA-L2-007", "MAHABHARATHA-L2-008", "MAHABHARATHA-L2-009", "MAHABHARATHA-L2-010"],
      "parallel": true,
      "estimated_minutes": 340,
      "depends_on_levels": [1]
    },
    "3": {
      "name": "integration",
      "tasks": ["MAHABHARATHA-L3-001", "MAHABHARATHA-L3-002", "MAHABHARATHA-L3-003", "MAHABHARATHA-L3-004", "MAHABHARATHA-L3-005", "MAHABHARATHA-L3-006", "MAHABHARATHA-L3-007", "MAHABHARATHA-L3-008", "MAHABHARATHA-L3-009"],
      "parallel": true,
      "estimated_minutes": 320,
      "depends_on_levels": [2]
    },
    "4": {
      "name": "commands",
      "tasks": ["MAHABHARATHA-L4-001", "MAHABHARATHA-L4-002", "MAHABHARATHA-L4-003", "MAHABHARATHA-L4-004", "MAHABHARATHA-L4-005", "MAHABHARATHA-L4-006", "MAHABHARATHA-L4-007", "MAHABHARATHA-L4-008", "MAHABHARATHA-L4-009", "MAHABHARATHA-L4-010"],
      "parallel": true,
      "estimated_minutes": 200,
      "depends_on_levels": [3]
    },
    "5": {
      "name": "quality",
      "tasks": ["MAHABHARATHA-L5-001", "MAHABHARATHA-L5-002", "MAHABHARATHA-L5-003", "MAHABHARATHA-L5-004", "MAHABHARATHA-L5-005"],
      "parallel": true,
      "estimated_minutes": 265,
      "depends_on_levels": [4]
    }
  }
}

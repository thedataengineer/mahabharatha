# COV-003: Enhance test fixtures for orchestrator edge cases

## Overview
Create tests/fixtures/orchestrator_fixtures.py with fixtures for testing orchestrator edge cases.

## Files to Create
- `tests/fixtures/orchestrator_fixtures.py`

## Requirements

### Fixture Functions

```python
import pytest
from unittest.mock import MagicMock, patch
from mahabharatha.constants import WorkerStatus
from mahabharatha.types import SpawnResult, WorkerState


@pytest.fixture
def mock_container_launcher_failure():
    """Fixture simulating container launcher failures."""
    launcher = MagicMock()
    launcher.spawn.return_value = SpawnResult(
        success=False,
        worker_id=0,
        error="Docker daemon not running",
    )
    return launcher


@pytest.fixture
def mock_worker_spawn_timeout():
    """Fixture simulating worker spawn timeout."""
    launcher = MagicMock()
    launcher.spawn.side_effect = TimeoutError("Spawn timed out")
    return launcher


@pytest.fixture
def mock_merge_timeout():
    """Fixture simulating merge timeout scenario."""
    merge_coord = MagicMock()
    merge_coord.full_merge_flow.side_effect = TimeoutError("Merge timed out")
    return merge_coord


@pytest.fixture
def mock_level_partial_failure():
    """Fixture simulating level completion with partial task failures."""
    state = MagicMock()
    state.get_level_tasks.return_value = {
        "TASK-001": {"status": "complete"},
        "TASK-002": {"status": "failed"},
        "TASK-003": {"status": "complete"},
    }
    return state


@pytest.fixture
def mock_worker_crash():
    """Fixture simulating worker crash mid-task."""
    launcher = MagicMock()
    launcher.monitor.return_value = WorkerStatus.CRASHED
    return launcher


@pytest.fixture
def mock_recoverable_error():
    """Fixture for testing recoverable error states."""
    orchestrator = MagicMock()
    orchestrator._paused = True
    orchestrator._error = "Merge conflict detected"
    return orchestrator
```

## Verification

```bash
python -c "from tests.fixtures.orchestrator_fixtures import *; print('OK')"
```

## Acceptance Criteria
- [ ] Fixture for simulating container launcher failures
- [ ] Fixture for worker spawn with various error conditions
- [ ] Fixture for merge timeout scenarios
- [ ] Fixture for level completion with partial failures
- [ ] All fixtures are importable and documented
